/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   narrative.js  â€”  Ø³ØªÛ†Ø±ÛŒ  Ùˆ  Ø¯ÛŒØ§Ù„Û†Ú¯  Ø¯ÛŒØªØ§
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
'use strict';

const NARRATIVE = {

  /*â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  CHAPTER 1  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€*/
  ch1: {
    title:   'Ú¯Û•Ø´ØªÛŒ Ø¦Ø§Ú©Ø§Ù…',
    titleAr: 'Ø§Ù„Ù…Ø³ÙŠØ± Ù†Ø­Ùˆ Ø§Ù„Ù…ØºØ±Ø¨',
    numeral: 'I',
    desc:    'Ø´ÙˆÛŽÙ†ÛŒ Ø¦Ø§ÙˆØ¨ÙˆÙˆÙ†ÛŒ Ø®Û†Ø± â€” Ú©Û•ÙˆØ±ÛŒ ØªØ§Ø±ÛŒÚ© Ùˆ Ø®Û•ÚµÚ©ÛŒ Ú†Û•ÙˆØ³ÛŽÙ†Ø±Ø§Ùˆ',
    objective: 'Ø¨Û† Ø¦Ø§ÙˆØ¨ÙˆÙˆÙ†ÛŒ Ø®Û†Ø± Ú¯Û•Ø´Øª Ø¨Ú©Û•',
    skyType: 'west',

    verses: [
      { ar: 'Ø­ÙŽØªÙŽÙ‘Ù‰Ù° Ø¥ÙØ°ÙŽØ§ Ø¨ÙŽÙ„ÙŽØºÙŽ Ù…ÙŽØºÙ’Ø±ÙØ¨ÙŽ Ø§Ù„Ø´ÙŽÙ‘Ù…Ù’Ø³Ù ÙˆÙŽØ¬ÙŽØ¯ÙŽÙ‡ÙŽØ§ ØªÙŽØºÙ’Ø±ÙØ¨Ù ÙÙÙŠ Ø¹ÙŽÙŠÙ’Ù†Ù Ø­ÙŽÙ…ÙØ¦ÙŽØ©Ù',
        ku: 'Ù‡Û•ØªØ§ Ú©Ø§ØªÛŽÚ© Ú¯Û•ÛŒØ´ØªÛ• Ø¦Ø§ÙˆØ¨ÙˆÙˆÙ†ÛŒ Ø®Û†Ø±ØŒ Ø¯ÛŒÛŒ Ø®Û†Ø± Ø¯ÛŽØªÛ•ÙˆÛ•ÛŒÛ•Ú©ÛŒ ØªØ§Ø±ÛŒÚ©ÛŒ Ù†Ø§ÙˆØ´Ø§Ùˆ',
        ref: 'Ø³ÙˆØ±Û•ÛŒ Ú©Û•Ù‡Ù â€” Ù¨Ù¦', trigger: 'arrive_west' },
      { ar: 'Ù‚ÙÙ„Ù’Ù†ÙŽØ§ ÙŠÙŽØ§ Ø°ÙŽØ§ Ø§Ù„Ù’Ù‚ÙŽØ±Ù’Ù†ÙŽÙŠÙ’Ù†Ù Ø¥ÙÙ…ÙŽÙ‘Ø§ Ø£ÙŽÙ† ØªÙØ¹ÙŽØ°ÙÙ‘Ø¨ÙŽ ÙˆÙŽØ¥ÙÙ…ÙŽÙ‘Ø§ Ø£ÙŽÙ† ØªÙŽØªÙŽÙ‘Ø®ÙØ°ÙŽ ÙÙÙŠÙ‡ÙÙ…Ù’ Ø­ÙØ³Ù’Ù†Ù‹Ø§',
        ku: 'Ú¯ÙˆØªÛŒÙ†Ù…Ø§Ù†: Ø¦Û•ÛŒ Ø°ÙˆØ§Ù„Ù‚Ø±Ù†ÛŒÙ†ØŒ ÛŒØ§Ù† Ø´Û•Ú©Û•Ù†Ø¬Û•ÛŒ Ø¨Ø¯Û•ÛŒ ÛŒØ§Ù† Ø¨Ø§Ø´ÛŒ Ù¾ÛŽÛŒØ§Ù† Ø¨Ú©Û•ÛŒ',
        ref: 'Ø³ÙˆØ±Û•ÛŒ Ú©Û•Ù‡Ù â€” Ù¨Ù¦', trigger: 'judge_people' },
      { ar: 'Ø£ÙŽÙ…ÙŽÙ‘Ø§ Ù…ÙŽÙ† Ø¸ÙŽÙ„ÙŽÙ…ÙŽ ÙÙŽØ³ÙŽÙˆÙ’ÙÙŽ Ù†ÙØ¹ÙŽØ°ÙÙ‘Ø¨ÙÙ‡Ù Ø«ÙÙ…ÙŽÙ‘ ÙŠÙØ±ÙŽØ¯ÙÙ‘ Ø¥ÙÙ„ÙŽÙ‰Ù° Ø±ÙŽØ¨ÙÙ‘Ù‡Ù ÙÙŽÙŠÙØ¹ÙŽØ°ÙÙ‘Ø¨ÙÙ‡Ù Ø¹ÙŽØ°ÙŽØ§Ø¨Ù‹Ø§ Ù†ÙÙ‘ÙƒÙ’Ø±Ù‹Ø§',
        ku: 'Ù‡Û•Ø± Ú©Û•Ø³ÛŽÚ© Ø³ØªÛ•Ù… Ú©Ø±Ø¯ØŒ Ø¦Û•Ù…Û• Ø´Û•Ú©Û•Ù†Ø¬ Ø¯Û•Ú©Û•ÛŒÙ† Ù¾Ø§Ø´Ø§Ù† Ø¨Û† Ø®ÙˆØ¯Ø§ÛŒÛ•Ú©Û•ÛŒ Ø¯Û•Ú¯Û•Ú•ÛŽØªÛ•ÙˆÛ•',
        ref: 'Ø³ÙˆØ±Û•ÛŒ Ú©Û•Ù‡Ù â€” Ù¨Ù§', trigger: 'sentence_oppressor' },
      { ar: 'ÙˆÙŽØ£ÙŽÙ…ÙŽÙ‘Ø§ Ù…ÙŽÙ†Ù’ Ø¢Ù…ÙŽÙ†ÙŽ ÙˆÙŽØ¹ÙŽÙ…ÙÙ„ÙŽ ØµÙŽØ§Ù„ÙØ­Ù‹Ø§ ÙÙŽÙ„ÙŽÙ‡Ù Ø¬ÙŽØ²ÙŽØ§Ø¡Ù‹ Ø§Ù„Ù’Ø­ÙØ³Ù’Ù†ÙŽÙ‰Ù°',
        ku: 'Ù‡Û• Ú©Ø§ØªÛŒ Ú©Û•Ø³ÛŽÚ© Ø¨Ø§ÙˆÛ•Ø±Ø¯Ø§Ø±ÛŒ Ø¨ÙˆÙˆ Ùˆ Ú©Ø§Ø±ÛŒ Ø¨Ø§Ø´ÛŒ Ú©Ø±Ø¯ â€” Ø¨Ø§Ø´ØªØ±ÛŒÙ† Ø®Û•ÚµØ§ØªÛŒ Ù¾ÛŽØ¯Û•Ø¯Ø±ÛŽØª',
        ref: 'Ø³ÙˆØ±Û•ÛŒ Ú©Û•Ù‡Ù â€” Ù¨Ù¨', trigger: 'reward_believer' }
    ],

    dialogues: [
      { id: 'ch1_elder', speaker: 'Ù¾ÛŒØ±ÛŽÚ©ÛŒ Ø¨Ø§Ø¬Ø§Ø±ÛŒ', icon: 'ðŸ§“',
        lines: [
          { ku: 'Ø¦Û•ÛŒ Ù¾Ø§Ø´Ø§! Ù‡Û•Ø²Ø§Ø± Ø®ÛŽØ± Ø¨Ù€ÛŒØª! Ø¦ÛŽÙ…Û• Ø²Û†Ø± Ø³Ø§Úµ Ù„Û•Ú˜ÛŽØ± Ø²ÙˆÚµÙ…ÛŒ Ø­Ø§Ú©Ù…ÛŒ Ø³ØªÛ•Ù…Ú©Ø§Ø±Ø¯Ø§ Ù…Ø§Ù†ÛŒÙ†Û•ÙˆÛ•.', ar: 'Ø£ÙŠÙ‡Ø§ Ø§Ù„Ù…Ù„Ùƒ! Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ùƒ! Ù„Ù‚Ø¯ Ø¹Ø§Ù†ÙŠÙ†Ø§ Ø³Ù†ÙˆØ§Øª ØªØ­Øª Ø¸Ù„Ù… Ø§Ù„Ø­Ø§ÙƒÙ… Ø§Ù„Ø¸Ø§Ù„Ù….' },
          { ku: 'Ø®ÙˆØ§Ø² Ø¯Ø§Ø¯Øª Ø¨Ú©Ø§Øª Ùˆ Ø¦Û•Ùˆ Ø³ØªÛ•Ù…Ú©Ø§Ø±Û• Ù„Û• Ø¨Ø§Ø¬Ø§Ú©Û•Ù…Ø§Ù† Ø¯ÙˆÙˆØ± Ø¨Ú©Û•ÛŒØªÛ•ÙˆÛ•.', ar: 'Ù†Ø±Ø¬Ùˆ Ø£Ù† ØªÙ‚ÙŠÙ… Ø§Ù„Ø¹Ø¯Ù„ ÙˆØªÙØ¨Ø¹Ø¯ Ø§Ù„Ø¸Ø§Ù„Ù… Ø¹Ù† Ù…Ø¯ÙŠÙ†ØªÙ†Ø§.' }
        ]
      },
      { id: 'ch1_oppressor', speaker: 'Ø­Ø§Ú©Ù…ÛŒ Ø³ØªÛ•Ù…Ú©Ø§Ø±', icon: 'ðŸ‘º',
        lines: [
          { ku: 'Ú©ÛŽØª Ú©Û•Ø³ÛŽ Ø¨Ú©Ø§Øª Ú©Ù‡ Ø¯Û•Ø³ØªÛŒ Ø®Ø´ØªÛŒ ÙˆØ§ØªØ§ØŸ Ù…Ù† Ø­ÙˆÚ©Ù…Ø±Ø§Ù† Ø¦Û•Ù… Ø´Ø§Ø±Ø³ØªØ§Ù†Ù…!', ar: 'Ù…Ù† Ø£Ù†Øª Ù„ØªØªØ¯Ø®Ù„ØŸ Ø£Ù†Ø§ Ø­Ø§ÙƒÙ… Ù‡Ø°Ù‡ Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©!' },
          { ku: 'Ú©Ø²Ù„Øª! Ø¦Û•Ù…Ø§Ù†Û• Ú©Û•Ø³Ø§Ù†ÛŒ Ø®ÙˆØ§Ø±Û•Ù†! Ù¾ÛŽÙˆÛŒØ³ØªÛŒØ§Ù†Û• Ø¨Û• Ú©Û†Ù†ØªÚ•Û†Ù„!', ar: 'Ø§Ø³ÙƒØª! Ù‡Ø¤Ù„Ø§Ø¡ Ø±Ø¹ÙŠØ© Ù…Ø­ØªØ§Ø¬Ø© Ù„Ù„Ø³ÙŠØ·Ø±Ø©!' }
        ]
      },
      { id: 'ch1_verdict', speaker: 'Ø°ÙˆØ§Ù„Ù‚Ø±Ù†ÛŒÙ†', icon: 'ðŸ‘‘',
        lines: [
          { ku: 'Ø¯Ø§Ø¯Ú¯Ø§ Ø¯Û•Ú©Ø±ÛŽØª. Ø¦Û•Ùˆ Ú©Û•Ø³Û•ÛŒ Ø³ØªÛ•Ù…ÛŒ Ú©Ø±Ø¯ÙˆÙˆÛ• Ù„Ø§Ø²Ù… Ø´Û•Ú©Û•Ù†Ø¬ Ø¨Ø¨ÛŒÙ†ÛŽØªØŒ Ù„Û•Ú¯Û•Úµ Ø¯Ø§ÙˆØ§ÛŒ Ù…Ù„Ú©ÙˆØªÛŒ Ø³Û•Ø±ÙˆÙˆ.', ar: 'Ø§Ù„Ø¹Ø¯Ù„ ÙŠÙÙ‚Ø§Ù…. Ù…Ù† Ø¸Ù„ÙŽÙ… Ø³ÙŠÙØ¹Ø§Ù‚ÙŽØ¨ØŒ Ø«Ù… ÙŠÙØ±ÙŽØ¯ Ø¥Ù„Ù‰ Ø±Ø¨Ù‡.' },
          { ku: 'Ø¦Û•Ùˆ Ú©Û•Ø³Û•ÛŒ Ú©Ù‡ Ø¨Ø§ÙˆÛ•Ø±Ø¯Ø§Ø± Ùˆ Ú†Ø§Ú©Û•Ú©Ø§Ø±Û• â€” Ø¦Û•Ùˆ Ø®Û•ÚµØ§ØªÛŒ Ø¨Ø§Ø´ØªØ±ÛŒØ´ ÙˆÛ•Ø±Ø¯Û•Ú¯Ø±ÛŽØª.', ar: 'Ø£Ù…Ø§ Ù…Ù† Ø¢Ù…Ù† ÙˆØ¹Ù…Ù„ ØµØ§Ù„Ø­Ø§Ù‹ ÙÙ„Ù‡ Ø¬Ø²Ø§Ø¡ Ø§Ù„Ø­Ø³Ù†Ù‰.' }
        ]
      }
    ]
  },

  /*â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  CHAPTER 2  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€*/
  ch2: {
    title:   'Ú¯Û•Ø´ØªÛŒ Ú•Û†Ú˜Ù‡Û•ÚµØ§Øª',
    titleAr: 'Ø§Ù„Ù…Ø³ÙŠØ± Ù†Ø­Ùˆ Ø§Ù„Ù…Ø´Ø±Ù‚',
    numeral: 'II',
    desc:    'Ø´ÙˆÛŽÙ†ÛŒ Ù‡Û•ÚµØ¯Ø§Ù†ÛŒ Ø®Û†Ø± â€” Ø®Û•ÚµÚ©ÛŒ Ø¨ÛŽ Ø³Ø§ÛŒØ¨Ø§Ù† Ù„Û•Ú˜ÛŽØ± Ø®Û†Ø±',
    objective: 'Ø¨Û† Ù‡Û•ÚµØ¯Ø§Ù†ÛŒ Ø®Û†Ø± Ú¯Û•Ø´Øª Ø¨Ú©Û•',
    skyType: 'east',

    verses: [
      { ar: 'Ø­ÙŽØªÙŽÙ‘Ù‰Ù° Ø¥ÙØ°ÙŽØ§ Ø¨ÙŽÙ„ÙŽØºÙŽ Ù…ÙŽØ·Ù’Ù„ÙØ¹ÙŽ Ø§Ù„Ø´ÙŽÙ‘Ù…Ù’Ø³Ù ÙˆÙŽØ¬ÙŽØ¯ÙŽÙ‡ÙŽØ§ ØªÙŽØ·Ù’Ù„ÙØ¹Ù Ø¹ÙŽÙ„ÙŽÙ‰Ù° Ù‚ÙŽÙˆÙ’Ù…Ù Ù„ÙŽÙ‘Ù…Ù’ Ù†ÙŽØ¬Ù’Ø¹ÙŽÙ„ Ù„ÙŽÙ‘Ù‡ÙÙ… Ù…ÙÙ‘Ù† Ø¯ÙÙˆÙ†ÙÙ‡ÙŽØ§ Ø³ÙØªÙ’Ø±Ù‹Ø§',
        ku: 'Ù‡Û•ØªØ§ Ú©Ø§ØªÛŽÚ© Ú¯Û•ÛŒØ´ØªÛ• Ù‡Û•ÚµØ¯Ø§Ù†ÛŒ Ø®Û†Ø±ØŒ Ø¯ÛŒÛŒ Ù„Û•Ø³Û•Ø± Ø®Û•ÚµÚ©ÛŽÚ© Ø¯Û•Ù‡Û•ÚµØ¯Ø§Øª Ú©Ù‡ Ù‡ÛŒÚ† Ø´ÙˆØ´Û•ÛŒØ§Ù† Ù†Û•Ø¨ÙˆÙˆ Ø¨Û•Ø±Ø§Ù…Ø¨Û•Ø±ÛŒ',
        ref: 'Ø³ÙˆØ±Û•ÛŒ Ú©Û•Ù‡Ù â€” Ù©Ù ', trigger: 'arrive_east' }
    ],

    dialogues: [
      { id: 'ch2_villager', speaker: 'Ú¯ÙˆÙ†Ø¯ÛŒÛ•Ú©ÛŒ Ø¨ÛŽ Ø³Ø§ÛŒØ¨Ø§Ù†', icon: 'ðŸ§‘',
        lines: [
          { ku: 'Ù¾Ø§Ø´Ø§! Ø¦ÛŽÙ…Û• Ù„Û•Ú˜ÛŽØ± Ø®Û†Ø±ÛŒ Ø¦Ø§Ú¯Ø±ÛŒÙ† Ù†Ø§Ø²ÛŒØ§Ø±Ø¯Ø§ Ø¯Û•Ú˜ÛŒÙ†. Ù†Û• Ù…Ø§Ù„ Ù†Û• Ø³Ø§ÛŒØ¨Ø§Ù†Ù…Ø§Ù† Ù‡Û•ÛŒÛ•.', ar: 'Ø£ÙŠÙ‡Ø§ Ø§Ù„Ù…Ù„Ùƒ! Ù†Ø­Ù† Ù†Ø¹ÙŠØ´ ØªØ­Øª Ø´Ù…Ø³ Ø­Ø§Ø±Ù‚Ø© Ù„Ø§ ØªÙØ·Ø§Ù‚. Ù„Ø§ Ø¨ÙŠÙˆØª ÙˆÙ„Ø§ Ø³ØªØ±.' },
          { ku: 'Ø®ÙˆØ§Ø² ÛŒØ§Ø±Ù…Û•ØªÛŒÙ…Ø§Ù† Ø¨Ø¯Û•ÛŒ Ø¨Û† Ø¯Ø±ÙˆØ³ØªÚ©Ø±Ø¯Ù†ÛŒ Ø´ÙˆØ´Û•Ùˆ Ù‡ïºŽÙˆÙ¾Û•ÛŒÙ…Ø§Ù†ÛŒÛ•Ú©.', ar: 'Ù†Ø±Ø¬Ùˆ Ù…Ø³Ø§Ø¹Ø¯ØªÙ†Ø§ ÙÙŠ Ø¨Ù†Ø§Ø¡ Ù…Ø§ ÙŠØ³ØªØ±Ù†Ø§ ÙˆÙŠØ­Ù…ÙŠÙ†Ø§.' }
        ]
      },
      { id: 'ch2_assessment', speaker: 'Ø°ÙˆØ§Ù„Ù‚Ø±Ù†ÛŒÙ†', icon: 'ðŸ‘‘',
        lines: [
          { ku: 'Ø¦Û•Ù…Ø§Ù†Û• Ø®Û•ÚµÚ©ÛŒ Ø³Ø§Ø¯Û•Ù†ØŒ Ù†Û• Ø³ØªÛ•Ù…Ú©Ø§Ø±Ù† Ù†Û• Ø¨Ø¯Ú©Ø§Ø±. Ø¦Û•Ø±Ú©ÛŒÙ…Û• Ù¾Ø§Ø±Ø§Ø³ØªÙ†ÛŒØ§Ù†.', ar: 'Ù‡Ø¤Ù„Ø§Ø¡ Ù‚ÙˆÙ… Ø¨Ø³Ø·Ø§Ø¡ Ù„Ø§ Ø¸Ø§Ù„Ù…ÙˆÙ†. Ø¹Ù„ÙŠÙ†Ø§ Ø­Ù…Ø§ÙŠØªÙ‡Ù… ÙˆØªØ¹Ù„ÙŠÙ…Ù‡Ù….' },
          { ku: 'Ù‡Û•Ø± Ø¦Û•ÙˆÛ•Ù†Ø¯Û•ÛŒ Ù„Û• ØªÙˆØ§Ù†Ù…Ø¯Ø§ÛŒÛ•ØŒ Ø¦Û•Ø±Ú©ÛŒÙ… Ø¨Û• Ø¦ÛŒØ²Ù†ÛŒ Ø®ÙˆØ¯Ø§ÛŒ Ú¯Û•ÙˆØ±Û• Ø¦Û•Ù†Ø¬Ø§Ù…Ø¯Û•Ø¯Û•Ù….', ar: 'ÙˆÙ…Ø§ Ø£Ù…Ù„ÙƒÙ‡ Ù…Ù† Ø£Ù…Ø± Ø³Ø£ÙØ¹Ù„ Ù…Ø§ Ø¨ÙˆØ³Ø¹ÙŠ Ø¨Ø¥Ø°Ù† Ø§Ù„Ù„Ù‡.' }
        ]
      }
    ]
  },

  /*â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  CHAPTER 3  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€*/
  ch3: {
    title:   'Ø¯ÛŒÙˆØ§Ø±ÛŒ Ø¦Ø§ÛŒØ±Û†Ù†',
    titleAr: 'Ø³Ø¯Ù‘ ÙŠØ£Ø¬ÙˆØ¬ ÙˆÙ…Ø£Ø¬ÙˆØ¬',
    numeral: 'III',
    desc:    'Ø¯Ø±ÙˆØ³ØªÚ©Ø±Ø¯Ù†ÛŒ Ø¯ÛŒÙˆØ§Ø± Ù„Û• Ù†ÛŽÙˆØ§Ù† Ø¯Ùˆ Ø´Ø§Ø® â€” Ù¾Ø§Ø±Ø§Ø³ØªÙ† Ù„Û• ÛŒØ£Ø¬ÙˆØ¬ Ùˆ Ù…Ø£Ø¬ÙˆØ¬',
    objective: 'ÛŒØ§Ø±Ù…Û•ØªÛŒ Ø¯Ø±ÙˆØ³ØªÚ©Ø±Ø¯Ù†ÛŒ Ø¯ÛŒÙˆØ§Ø±ÛŒ Ø¦Ø§ÛŒØ±Û†Ù†ÛŒ Ø¨Ø¯Û•',
    skyType: 'wall',

    verses: [
      { ar: 'Ø­ÙŽØªÙŽÙ‘Ù‰Ù° Ø¥ÙØ°ÙŽØ§ Ø¨ÙŽÙ„ÙŽØºÙŽ Ø¨ÙŽÙŠÙ’Ù†ÙŽ Ø§Ù„Ø³ÙŽÙ‘Ø¯ÙŽÙ‘ÙŠÙ’Ù†Ù ÙˆÙŽØ¬ÙŽØ¯ÙŽ Ù…ÙÙ† Ø¯ÙÙˆÙ†ÙÙ‡ÙÙ…ÙŽØ§ Ù‚ÙŽÙˆÙ’Ù…Ù‹Ø§ Ù„ÙŽÙ‘Ø§ ÙŠÙŽÙƒÙŽØ§Ø¯ÙÙˆÙ†ÙŽ ÙŠÙŽÙÙ’Ù‚ÙŽÙ‡ÙÙˆÙ†ÙŽ Ù‚ÙŽÙˆÙ’Ù„Ù‹Ø§',
        ku: 'Ù‡Û•ØªØ§ Ú©Ø§ØªÛŽÚ© Ú¯Û•ÛŒØ´ØªÛ• Ù†ÛŽÙˆØ§Ù† Ø¯Ùˆ Ø´ÙˆØ´Û•ÛŒ Ú¯Û•ÙˆØ±Û•ØŒ Ø®Û•ÚµÚ©ÛŽÚ©ÛŒ Ø¯ÛŒØª Ú©Ù‡ Ø²Û†Ø± Ø¨Ø§Ø²Ø§ÙˆÛ•Ø´ÛŒ Ù‚Ø³Û•ÛŒ Ù†Û•Ø¯Û•Ú¯Ø±Øª',
        ref: 'Ø³ÙˆØ±Û•ÛŒ Ú©Û•Ù‡Ù â€” Ù©Ù£', trigger: 'arrive_valley' },
      { ar: 'Ù‚ÙŽØ§Ù„ÙÙˆØ§ ÙŠÙŽØ§ Ø°ÙŽØ§ Ø§Ù„Ù’Ù‚ÙŽØ±Ù’Ù†ÙŽÙŠÙ’Ù†Ù Ø¥ÙÙ†ÙŽÙ‘ ÙŠÙŽØ£Ù’Ø¬ÙÙˆØ¬ÙŽ ÙˆÙŽÙ…ÙŽØ£Ù’Ø¬ÙÙˆØ¬ÙŽ Ù…ÙÙÙ’Ø³ÙØ¯ÙÙˆÙ†ÙŽ ÙÙÙŠ Ø§Ù„Ù’Ø£ÙŽØ±Ù’Ø¶Ù',
        ku: 'Ú¯ÙˆØªÛŒØ§Ù†: Ø¦Û•ÛŒ Ø°ÙˆØ§Ù„Ù‚Ø±Ù†ÛŒÙ†ØŒ ÛŒØ£Ø¬ÙˆØ¬ Ùˆ Ù…Ø£Ø¬ÙˆØ¬ Ø²ÛŒØ§Ù†Ú©Ø§Ø±Ù† Ù„Û• Ø²Û•ÙˆÛŒ.',
        ref: 'Ø³ÙˆØ±Û•ÛŒ Ú©Û•Ù‡Ù â€” Ù©Ù¤', trigger: 'people_request' },
      { ar: 'ÙÙŽÙ‡ÙŽÙ„Ù’ Ù†ÙŽØ¬Ù’Ø¹ÙŽÙ„Ù Ù„ÙŽÙƒÙŽ Ø®ÙŽØ±Ù’Ø¬Ù‹Ø§ Ø¹ÙŽÙ„ÙŽÙ‰Ù° Ø£ÙŽÙ† ØªÙŽØ¬Ù’Ø¹ÙŽÙ„ÙŽ Ø¨ÙŽÙŠÙ’Ù†ÙŽÙ†ÙŽØ§ ÙˆÙŽØ¨ÙŽÙŠÙ’Ù†ÙŽÙ‡ÙÙ…Ù’ Ø³ÙŽØ¯Ù‹Ù‘Ø§',
        ku: 'Ø¦Ø§ÛŒØ§ Ø®Û•Ø±Ø¬ÛŒ Ù„Û•Øª Ø¯Û•Ú©Û•ÛŒÙ† Ø¨Û† Ø¦Û•ÙˆÛ•ÛŒ Ù†ÛŽÙˆØ§Ù†Ù…Ø§ Ø¯ÛŒÙˆØ§Ø±ÛŽÚ© Ø¨Ù†ÛŒØªØŸ',
        ref: 'Ø³ÙˆØ±Û•ÛŒ Ú©Û•Ù‡Ù â€” Ù©Ù¤', trigger: 'offer_tribute' },
      { ar: 'Ù‚ÙŽØ§Ù„ÙŽ Ù…ÙŽØ§ Ù…ÙŽÙƒÙŽÙ‘Ù†ÙÙ‘ÙŠ ÙÙÙŠÙ‡Ù Ø±ÙŽØ¨ÙÙ‘ÙŠ Ø®ÙŽÙŠÙ’Ø±ÙŒ ÙÙŽØ£ÙŽØ¹ÙÙŠÙ†ÙÙˆÙ†ÙÙŠ Ø¨ÙÙ‚ÙÙˆÙŽÙ‘Ø©Ù',
        ku: 'Ú¯ÙˆØªÛŒ: Ø¦Û•ÙˆÛ•ÛŒ Ø®ÙˆØ§ÛŒ Ù…Ù†Ø¯Ø§ Ø¨Ø§Ø´ØªØ±Û•. ØªÛ•Ù†Ù‡Ø§ ÛŒØ§Ø±Ù…Û•ØªÛŒÙ… Ø¨Ø¯Û•Ù† Ø¨Û• Ù‡ÛŽØ².',
        ref: 'Ø³ÙˆØ±Û•ÛŒ Ú©Û•Ù‡Ù â€” Ù©Ù¥', trigger: 'refuse_money' },
      { ar: 'Ø¢ØªÙÙˆÙ†ÙÙŠ Ø²ÙØ¨ÙŽØ±ÙŽ Ø§Ù„Ù’Ø­ÙŽØ¯ÙÙŠØ¯Ù Ø­ÙŽØªÙŽÙ‘Ù‰Ù° Ø¥ÙØ°ÙŽØ§ Ø³ÙŽØ§ÙˆÙŽÙ‰Ù° Ø¨ÙŽÙŠÙ’Ù†ÙŽ Ø§Ù„ØµÙŽÙ‘Ø¯ÙŽÙÙŽÙŠÙ’Ù†Ù Ù‚ÙŽØ§Ù„ÙŽ Ø§Ù†ÙÙØ®ÙÙˆØ§',
        ku: 'Ø¦Ø§ÛŒØ±Û†Ù†Û•Ú©Ø§Ù† Ø¨Ù‡ÛŽÙ†Ù†ØŒ Ù‡Û•ØªØ§ Ù†ÛŽÙˆØ§Ù† Ø¯Ùˆ Ù„ÙˆÙˆØªÛŒÚ©Û• Ù‡Ø§ÙˆØ³Ù¾ÛŒØ§Ø±ÛŒ Ø¨Ú©Ø§ØŒ Ú¯ÙˆØªÛŒ: Ø¯Ø§Ù† Ø¨Ø¯Û•Ù†!',
        ref: 'Ø³ÙˆØ±Û•ÛŒ Ú©Û•Ù‡Ù â€” Ù©Ù¦', trigger: 'build_start' },
      { ar: 'ÙÙŽÙ…ÙŽØ§ Ø§Ø³Ù’Ø·ÙŽØ§Ø¹ÙÙˆØ§ Ø£ÙŽÙ† ÙŠÙŽØ¸Ù’Ù‡ÙŽØ±ÙÙˆÙ‡Ù ÙˆÙŽÙ…ÙŽØ§ Ø§Ø³Ù’ØªÙŽØ·ÙŽØ§Ø¹ÙÙˆØ§ Ù„ÙŽÙ‡Ù Ù†ÙŽÙ‚Ù’Ø¨Ù‹Ø§',
        ku: 'Ø¦Û•ÙˆØ§Ù† Ù†Û•ÛŒØ§Ù†ØªÙˆØ§Ù†ÛŒ Ø³Û•Ø±ÛŒ Ø¨Ø¨ÛŒÙ†Ù† Ùˆ Ù†Û•ÛŒØ§Ù†ØªÙˆØ§Ù†ÛŒ Ø³ÙˆÚ•Ø§Ø®ÛŒ ØªÛŽØ¨Ú©Û•Ù†',
        ref: 'Ø³ÙˆØ±Û•ÛŒ Ú©Û•Ù‡Ù â€” Ù©Ù§', trigger: 'wall_complete' },
      { ar: 'Ù‚ÙŽØ§Ù„ÙŽ Ù‡ÙŽÙ°Ø°ÙŽØ§ Ø±ÙŽØ­Ù’Ù…ÙŽØ©ÙŒ Ù…ÙÙ‘Ù† Ø±ÙŽÙ‘Ø¨ÙÙ‘ÙŠ',
        ku: 'Ú¯ÙˆØªÛŒ: Ø¦Û•Ù…Û• Ø±Û•Ø­Ù…Û•ØªÛŽÚ©ÛŒ Ù„Û• Ù„Ø§ÛŒÛ•Ù† Ø®ÙˆØ¯Ø§ÛŒÛ•Ú©Ù…Û•ÙˆÛ•ÛŒÛ•.',
        ref: 'Ø³ÙˆØ±Û•ÛŒ Ú©Û•Ù‡Ù â€” Ù©Ù¨', trigger: 'after_wall' }
    ],

    dialogues: [
      { id: 'ch3_elder', speaker: 'Ø¨Û•Ø²Ù…Ø¦Ø§ØºØ§ÛŒ Ù‚Û•Ø¨ÛŒÙ„Û•', icon: 'ðŸ§”',
        lines: [
          { ku: 'Ø¦Û•ÛŒ Ù¾Ø§Ø´Ø§! ÛŒØ£Ø¬ÙˆØ¬ Ùˆ Ù…Ø£Ø¬ÙˆØ¬ Ù‡Û•Ù…ÙˆÙˆ Ø´Û•Ùˆ Ø¯ÛŽÙ†Û• Ù†Ø²ÛŒÚ©Ù…Ø§Ù†. Ø®ÙˆØ§Ø±Ø¯Ù†Ù…Ø§Ù† Ø¯Û•Ø®ÙˆÛŽÙ†Ù†ØŒ Ù…Ù†Ø¯Ø§ÚµÛ•Ú©Ø§Ù†Ù…Ø§Ù† Ø¯Û•ØªØ±Ø³Ù†.', ar: 'Ø£ÙŠÙ‡Ø§ Ø§Ù„Ù…Ù„Ùƒ! ÙŠØ£Ø¬ÙˆØ¬ ÙˆÙ…Ø£Ø¬ÙˆØ¬ ÙŠØ£ØªÙˆÙ† Ø¥Ù„ÙŠÙ†Ø§ ÙƒÙ„ Ù„ÙŠÙ„Ø©ØŒ ÙŠØ£Ø®Ø°ÙˆÙ† Ø·Ø¹Ø§Ù…Ù†Ø§ ÙˆØ£Ø·ÙØ§Ù„Ù†Ø§ ÙŠØ±ØªØ¹Ø¨ÙˆÙ†.' },
          { ku: 'Ø¦Ø§ÛŒØ§ Ø®Û•Ø±Ø¬ÛŒ Ù„Û•Øª Ø¯Û•Ú©Û•ÛŒÙ†ØŸ Ø²ÛŽÚ• Ù†Û•Ø®ØªÛŒÙ…Ø§Ù† Ø¨Ø¯Û•Øª Ø¨Û† Ø¦Û•ÙˆÛ•ÛŒ Ø¯ÛŒÙˆØ§Ø±ÛŽÚ©Ù…Ø§Ù† Ø¨Û† Ø¯Ø±ÙˆØ³ØªØ¨Ú©Û•ÛŒ.', ar: 'Ù‡Ù„ ØªÙ‚Ø¨Ù„ Ø®Ø±Ø§Ø¬Ø§Ù‹ØŸ Ù„Ø¯ÙŠÙ†Ø§ Ø°Ù‡Ø¨ ÙˆÙ…Ø§Ù„ Ù…Ù‚Ø§Ø¨Ù„ Ø¨Ù†Ø§Ø¡ Ø§Ù„Ø³Ø¯.' }
        ]
      },
      { id: 'ch3_refuse', speaker: 'Ø°ÙˆØ§Ù„Ù‚Ø±Ù†ÛŒÙ†', icon: 'ðŸ‘‘',
        lines: [
          { ku: 'Ø¦Û•ÙˆÛ•ÛŒ Ø®ÙˆØ§ÛŒÙ…ÛŒ Ø¯Ø§Ùˆ Ø¨Ø§Ø´ØªØ±ÛŒ Ù‡Û•Ø± Ø¦Û•Ùˆ Ø®Û•Ø±Ø¬Û•ØªØ§Ù†. ØªÛ•Ù†Ù‡Ø§ Ù‡ÛŽØ²ØªØ§Ù†Ù… Ø¨Ø¯Û•Ù† Ú©Ø§Ø± Ø¨Ú©Û•ÛŒÙ†.', ar: 'Ù…Ø§ Ø£Ø¹Ø·Ø§Ù†ÙŠ Ø±Ø¨ÙŠ Ø®ÙŠØ± Ù…Ù…Ø§ ØªØ¹Ø·ÙˆÙ†. Ø£Ø¹ÙŠÙ†ÙˆÙ†ÙŠ Ø¨Ù‚ÙˆØªÙƒÙ… Ù†Ø¹Ù…Ù„ Ù…Ø¹Ø§Ù‹.' }
        ]
      },
      { id: 'ch3_ironsmith', speaker: 'Ø¯Ø§Ù‡ÛŽÙ†Û•Ø±ÛŒ Ø¦Ø§ÛŒØ±Û†Ù†', icon: 'âš’ï¸',
        lines: [
          { ku: 'Ù¾Ø§Ø´Ø§! Ø¦Ø§ÛŒØ±Û†Ù†Û•Ú©Ø§Ù†Ù…Ø§Ù† Ø¦Ø§Ù…Ø§Ø¯Û•Ù†. Ø¨Û• Ù…ÛŽØ²Ø§Ù†ÛŒ Ú©ÙˆÛŽØ±ÛŒ Ø¯ÙˆÙˆÛ•Ù… Ù‡Ø§ÙˆØ³Ù¾ÛŒØ§Ø±ÛŒ ØªÛŽÚ¯Û•ÛŒØ´ØªÙˆÛŒÙ†Û•.', ar: 'Ø£ÙŠÙ‡Ø§ Ø§Ù„Ù…Ù„Ùƒ! Ø§Ù„Ø­Ø¯ÙŠØ¯ Ø¬Ø§Ù‡Ø². ÙˆØµÙ„Ù†Ø§ Ø¥Ù„Ù‰ Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ø¬Ø¨Ù„ÙŠÙ†.' },
          { ku: 'Ø¦Û•Ù…Û•ÛŒ ÙÛ•Ø±Ù…ÙˆÙˆØª Ú©Ù‡ Ø¯Ø§Ù†ÛŒ Ø¨Ø¯Û•ÛŒÙ† â€” Ú©ÙˆÙˆØ±ÛŒ Ø¦Ø§Ú¯Ø±Ù…Ø§Ù† Ø¯Ø±ÙˆØ³Øª Ú©Ø±Ø¯ÙˆÙˆÛ•.', ar: 'ÙƒÙ…Ø§ Ø£Ù…Ø±Øª Ø¨Ø§Ù„Ù†ÙØ® â€” Ø§Ù„Ù…Ù†Ø§ÙÙŠØ® Ø¬Ø§Ù‡Ø²Ø©.' }
        ]
      },
      { id: 'ch3_done', speaker: 'Ø°ÙˆØ§Ù„Ù‚Ø±Ù†ÛŒÙ†', icon: 'ðŸ‘‘',
        lines: [
          { ku: 'Ø¦Û•Ù…Û• Ø±Û•Ø­Ù…Û•ØªÛŽÚ©ÛŒ Ù„Û• Ù„Ø§ÛŒÛ•Ù† Ø®ÙˆØ§ÛŒÙ…Û•ÙˆÛ•ÛŒÛ•. Ú©Ø§ØªÛŽÚ© Ø¦Û•Ù…Ø±ÛŒ Ø®ÙˆØ§ÛŒ Ø¯ÛŽØª â€” Ø¦Û•Ù…ÛŒØ´ ÙˆÛ•Ø±ÙˆÙˆ Ø¨ÛŽØª.', ar: 'Ù‡Ø°Ù‡ Ø±Ø­Ù…Ø© Ù…Ù† Ø±Ø¨ÙŠ. ÙØ¥Ø°Ø§ Ø¬Ø§Ø¡ ÙˆØ¹Ø¯ Ø±Ø¨ÙŠ Ø¬Ø¹Ù„Ù‡ Ø¯ÙƒØ§Ø¡.' },
          { ku: 'Ù†Ø§Ø¨ÛŽ Ø³Û•Ø±ÙØ±Ø§Ø²ÛŽØªÛŒ Ø®ÙˆØ§ÛŒ Ù„Û•Ø¨ÛŒØ± Ø¨Ú©Û•ÛŒØª. Ù‡Û•Ù…ÙˆÙˆ ØªÙˆØ§Ù†Ø§Ùˆ Ø³Ø§Ù…Ø§Ù†Ù… Ù„Û• Ù„Ø§ÛŒÛ•ÛŒ Ø®ÙˆØ¯Ø§ÛŒØ´Û•.', ar: 'Ù„Ø§ ØªÙ†Ø³ÙˆØ§ ÙØ¶Ù„ Ø§Ù„Ù„Ù‡. ÙƒÙ„ Ù‚Ø¯Ø±Ø© ÙˆÙ…Ø§Ù„ Ù…Ù†Ù‡ Ø³Ø¨Ø­Ø§Ù†Ù‡.' }
        ]
      }
    ]
  }
};

/* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Dialogue Engine â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
class DialogueEngine {
  constructor(uiRef) {
    this.ui       = uiRef;
    this.queue    = [];
    this.idx      = 0;
    this.active   = false;
    this.onDone   = null;
  }

  start(dialogueId, chapterKey, onDone) {
    const data = NARRATIVE[chapterKey];
    if (!data) return;
    const dlg = data.dialogues.find(d => d.id === dialogueId);
    if (!dlg) return;
    this.queue  = dlg.lines;
    this.speaker = dlg.speaker;
    this.icon    = dlg.icon;
    this.idx     = 0;
    this.active  = true;
    this.onDone  = onDone || null;
    this.ui.showDialogue(this.speaker, this.icon, this.queue[0].ku, this.queue[0].ar);
  }

  advance() {
    if (!this.active) return;
    this.idx++;
    if (this.idx < this.queue.length) {
      this.ui.showDialogue(this.speaker, this.icon, this.queue[this.idx].ku, this.queue[this.idx].ar);
    } else {
      this.active = false;
      this.ui.hideDialogue();
      if (this.onDone) this.onDone();
    }
  }
}

window.NARRATIVE      = NARRATIVE;
window.DialogueEngine = DialogueEngine;
